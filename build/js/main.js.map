{"version":3,"file":"main.js","sources":["../../src/js/modules/app.js","../../src/js/main.js"],"sourcesContent":["export default function () {\n\n  document.addEventListener('DOMContentLoaded', () => {\n    const processButton = document.getElementById('processButton');\n    const copyButtons = document.querySelectorAll('.copy-btn');\n\n    processButton.addEventListener('click', processHTML);\n\n    copyButtons.forEach(button => {\n      button.addEventListener('click', event => {\n        const targetId = event.target.getAttribute('data-copy-target');\n        copyToClipboard(targetId, event.target);\n      });\n    });\n  });\n\n  function extractStylesAndCleanHTML(html, cleanHTML, replaceCenterTags) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n\n    let styles = [];\n    let inlineStyleCounter = 1;\n\n    if (cleanHTML) {\n      // Extract and remove <style> tags\n      styles = Array.from(doc.querySelectorAll('style')).map(style => style.textContent);\n      doc.querySelectorAll('style').forEach(style => style.remove());\n\n      // Process inline styles\n      doc.querySelectorAll('[style]').forEach(element => {\n        const inlineStyle = element.getAttribute('style');\n        if (inlineStyle) {\n          const className = `inl_${inlineStyleCounter++}`;\n          styles.push(`.${className} { ${inlineStyle} }`);\n          element.removeAttribute('style');\n          element.classList.add(className);\n        }\n      });\n    }\n\n    if (replaceCenterTags) {\n      // Replace <center> with <div class=\"content-center\">\n      doc.querySelectorAll('center').forEach(center => {\n        const div = document.createElement('div');\n        div.innerHTML = center.innerHTML;\n        div.className = center.className ? center.className + ' content-center' : 'content-center';\n        center.replaceWith(div);\n      });\n    }\n\n    // Convert the remaining document to a string\n    const cleanedHTML = doc.body.innerHTML;\n\n    return { cleanedHTML, styles };\n  }\n\n  function processHTML() {\n    const html = document.getElementById('inputHTML').value;\n    const cleanHTML = document.getElementById('cleanHTML').checked;\n    const replaceCenterTags = document.getElementById('replaceCenterTags').checked;\n\n    const result = extractStylesAndCleanHTML(html, cleanHTML, replaceCenterTags);\n\n    document.getElementById('cleanedHTMLContainer').style.display = 'none';\n    document.getElementById('extractedStylesContainer').style.display = 'none';\n\n    if (cleanHTML) {\n      document.getElementById('cleanedHTML').textContent = result.cleanedHTML;\n      document.getElementById('cleanedHTMLContainer').style.display = 'block';\n      document.getElementById('extractedStyles').textContent = result.styles.join('\\n');\n      document.getElementById('extractedStylesContainer').style.display = 'block';\n    }\n  }\n\n  function copyToClipboard(elementId, button) {\n    const textToCopy = document.getElementById(elementId).textContent;\n    const tempInput = document.createElement('textarea');\n    tempInput.value = textToCopy;\n    document.body.appendChild(tempInput);\n    tempInput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempInput);\n\n    // Change button text temporarily\n    const originalText = button.textContent;\n    button.textContent = 'Скопировано!';\n    setTimeout(() => {\n      button.textContent = originalText;\n    }, 2000);\n  }\n\n}\n","// import \"./helpers/postDate\";\n// import \"./helpers/everad\";\n\nimport app from \"./modules/app\";\n\nfunction main() {\n  app()\n}\n\nif (document.documentElement.clientWidth < 480) {\n  window.addEventListener(\"scroll\", function () {\n    setTimeout(main, 1000);\n  }, {\n    once: true,\n    passive: true,\n  });\n} else {\n  main();\n}\n"],"names":["document","addEventListener","processButton","getElementById","copyButtons","querySelectorAll","processHTML","forEach","button","event","targetId","target","getAttribute","copyToClipboard","extractStylesAndCleanHTML","html","cleanHTML","replaceCenterTags","parser","DOMParser","doc","parseFromString","styles","inlineStyleCounter","Array","from","map","style","textContent","remove","element","inlineStyle","className","concat","push","removeAttribute","classList","add","center","div","createElement","innerHTML","replaceWith","cleanedHTML","body","value","checked","result","display","join","elementId","textToCopy","tempInput","appendChild","select","execCommand","removeChild","originalText","setTimeout","main","app","documentElement","clientWidth","window","once","passive"],"mappings":"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"}