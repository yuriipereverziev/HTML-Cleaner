{"version":3,"file":"main.js","sources":["../../src/js/main.js"],"sourcesContent":["// import \"./helpers/postDate\";\n// import \"./helpers/everad\";\n\n\n\nfunction main() {\n  function extractStylesAndCleanHTML(html, cleanHTML, replaceCenterTags) {\n    const parser = new DOMParser();\n    const doc = parser.parseFromString(html, 'text/html');\n\n    let styles = [];\n\n    if (cleanHTML) {\n      // Извлекаем все <style> теги\n      styles.push(...Array.from(doc.querySelectorAll('style')).map(style => style.textContent));\n      // Удаляем все <style> теги из документа\n      doc.querySelectorAll('style').forEach(style => style.remove());\n\n      // Извлекаем стили из атрибутов style=\"\"\n      doc.querySelectorAll('[style]').forEach(element => {\n        styles.push(`${element.tagName.toLowerCase()} { ${element.getAttribute('style')} }`);\n        element.removeAttribute('style');\n      });\n    }\n\n    if (replaceCenterTags) {\n      // Заменяем <center> на <div class=\"content-center\">\n      doc.querySelectorAll('center').forEach(center => {\n        const div = document.createElement('div');\n        div.innerHTML = center.innerHTML;\n        div.className = center.className ? center.className + ' content-center' : 'content-center';\n        center.replaceWith(div);\n      });\n    }\n\n    // Преобразуем оставшийся документ в строку\n    const cleanedHTML = doc.body.innerHTML;\n\n    return { cleanedHTML, styles };\n  }\n\n  function processHTML() {\n    const html = document.getElementById('inputHTML').value;\n    const cleanHTML = document.getElementById('cleanHTML').checked;\n    const replaceCenterTags = document.getElementById('replaceCenterTags').checked;\n\n    const result = extractStylesAndCleanHTML(html, cleanHTML, replaceCenterTags);\n\n    document.getElementById('cleanedHTMLContainer').style.display = 'none';\n    document.getElementById('extractedStylesContainer').style.display = 'none';\n\n    if (cleanHTML) {\n      document.getElementById('cleanedHTML').textContent = result.cleanedHTML;\n      document.getElementById('cleanedHTMLContainer').style.display = 'block';\n      document.getElementById('extractedStyles').textContent = result.styles.join('\\n');\n      document.getElementById('extractedStylesContainer').style.display = 'block';\n    }\n  }\n\n  function copyToClipboard(elementId) {\n    const textToCopy = document.getElementById(elementId).textContent;\n    const tempInput = document.createElement('textarea');\n    tempInput.value = textToCopy;\n    document.body.appendChild(tempInput);\n    tempInput.select();\n    document.execCommand('copy');\n    document.body.removeChild(tempInput);\n    alert('Скопировано!');\n  }\n}\n\nif (document.documentElement.clientWidth < 480) {\n  window.addEventListener(\"scroll\", function () {\n    setTimeout(main, 1000);\n  }, {\n    once: true,\n    passive: true,\n  });\n} else {\n  main();\n}\n"],"names":["main","document","documentElement","clientWidth","window","addEventListener","setTimeout","once","passive"],"mappings":";;;EAAA;EACA;;EAIA,SAASA,IAAIA,GAAG;EAgEhB;EAEA,IAAIC,QAAQ,CAACC,eAAe,CAACC,WAAW,GAAG,GAAG,EAAE;IAC9CC,MAAM,CAACC,gBAAgB,CAAC,QAAQ,EAAE,YAAY;MAC5CC,UAAU,CAACN,IAAI,EAAE,IAAI,CAAC;KACvB,EAAE;MACDO,IAAI,EAAE,IAAI;MACVC,OAAO,EAAE;KACV,CAAC;EACJ;;;;"}